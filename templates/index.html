{% include "base.html" %}
{% load static %}


{% block start %}
<style>
  /* ---------------------------
     HERO + GRID STYLES
     Move to static/css/site.css later
     --------------------------- */
  .hero-modern {
    margin-top: 28px;
    padding: 48px 20px;
    border-radius: 16px;
    background: linear-gradient(120deg, #ff8a00 0%, #ffb347 60%);
    color: #fff;
    box-shadow: 0 18px 50px rgba(0, 0, 0, 0.12);
    overflow: visible;
  }



  /* Header above grid */
  .top-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-top: 28px;
    gap: 8px;
  }

  @media (max-width:576px) {
    .top-header {
      flex-direction: column;
      align-items: flex-start;
    }
  }

  /* Simple grid */
  .simple-resto-grid {
    gap: 18px;
    margin-top: 14px;
  }

  .simple-resto-card {
    background: #fff;
    border-radius: 12px;
    padding: 18px 12px;
    text-align: center;
    transition: transform .16s ease, box-shadow .16s ease;
    box-shadow: 0 6px 18px rgba(0, 0, 0, 0.06);
  }

  .simple-resto-card:hover {
    transform: translateY(-6px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.10);
  }

  .resto-thumb {
    width: 110px;
    height: 110px;
    object-fit: cover;
    border-radius: 50%;
    border: 4px solid #fff;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
    margin: 0 auto;
    background: #f6f6f6;
  }

  .resto-name {
    margin-top: 12px;
    font-weight: 700;
    color: #222;
    font-size: 1rem;
  }

  .resto-city {
    display: block;
    color: #6c757d;
    font-size: 0.92rem;
    margin-top: 4px;
  }

  
  .grid-wrap {
    display: grid;
    gap: 18px;
    grid-template-columns: repeat(2, 1fr);
    margin-top: 12px;
  }

  @media (min-width:576px) {
    .grid-wrap {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  @media (min-width:768px) {
    .grid-wrap {
      grid-template-columns: repeat(4, 1fr);
    }
  }

  /* clean pagination center */
  .pagination-centered {
    display: flex;
    justify-content: center;
    margin-top: 20px;
  }
</style>

<div class="container">
  <!-- HERO -->
  <section class="hero-modern" aria-labelledby="hero-heading">
    <div class="hero d-flex flex-column flex-lg-row align-items-center justify-content-between">
      <div class="me-lg-5" style="max-width: 680px;">
        <h1 class="display-6 fw-bold mb-2">
          <span class="d-block d-sm-inline">Order Your Next Meal, Now.</span>
          <span style="font-size: 0.8em; opacity: 0.9;">üçîüçï</span>
        </h1>

        <p class="lead mb-4">
          Discover the best local eateries, see real-time ratings, and order with a single click.
        </p>

        <form method="get" action="{% url 'home' %}" class="d-flex flex-column flex-sm-row gap-2">
          <input type="search" name="q" class="form-control form-control-lg search-input"
            placeholder="Search restaurant, cuisine, or dish (e.g., pasta, biryani)" aria-label="Search"
            value="{{ request.GET.q|default:'' }}">
          <button class="btn btn-dark btn-lg flex-shrink-0" type="submit">
            <i class="bi bi-search me-1"></i> Find Food
          </button>
        </form>
        <small class="text-white mt-2 d-block opacity-75">Serving most major cities. Check your location for
          details.</small>
      </div>

      <div class="mt-4 mt-lg-0 ms-lg-3 text-center d-none d-lg-block">
        <img src="{% static 'images/banner.png' %}" alt="Eatzy banner"
          style="width:280px; max-width:40vw; border-radius:14px; box-shadow:0 8px 30px rgba(0, 0, 0, 0.12)">
      </div>
    </div>
  </section>

  <!-- TOP RESTAURANTS HEADER -->
  <div class="top-header">
    <h3 class="h4 mb-0">Top Restaurants</h3>
    <small class="text-muted">Showing {{ venders|length }} results</small>
  </div>

  <!-- SIMPLE RESTAURANT GRID (image + name + city) -->
  <div class="grid-wrap">
    {% for vender in venders %}
    <div class="simple-resto-card">
      <a href="{% url 'venderdetails' vender.id %}" class="text-decoration-none d-block"
        title="{{ vender.restaurent_name }}">
        {% if vender.restaurent_img %}
        <img src="{{ vender.restaurent_img.url }}" alt="{{ vender.restaurent_name }}" class="resto-thumb"
          loading="lazy">
        {% else %}
        <img src="{% static 'images/placeholder.png' %}" alt="placeholder" class="resto-thumb" loading="lazy">
        {% endif %}

        <div class="resto-name">{{ vender.restaurent_name }}</div>
        {% if vender.city %}
        <small class="resto-city">‚Ä¢ {{ vender.city }}</small>
        {% endif %}
      </a>
    </div>
    {% empty %}
    <div class="col-12">
      <div class="alert alert-warning mb-0">No restaurants found right now. Please check back later.</div>
    </div>
    {% endfor %}
  </div>

  <!-- pagination -->
  <div class="pagination-centered">
    {% if is_paginated %}
    <nav aria-label="Page navigation">
      <ul class="pagination">
        {% if page_obj.has_previous %}
        <li class="page-item"><a class="page-link" href="?page={{ page_obj.previous_page_number }}">Previous</a></li>
        {% else %}
        <li class="page-item disabled"><span class="page-link">Previous</span></li>
        {% endif %}

        <li class="page-item active" aria-current="page"><span class="page-link">{{ page_obj.number }}</span></li>

        {% if page_obj.has_next %}
        <li class="page-item"><a class="page-link" href="?page={{ page_obj.next_page_number }}">Next</a></li>
        {% else %}
        <li class="page-item disabled"><span class="page-link">Next</span></li>
        {% endif %}
      </ul>
    </nav>
    {% endif %}
  </div>
</div>
{% endblock start %}